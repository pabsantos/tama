---
title: "Exercício 01"
subtitle: "Tópicos Avançados em Modelagem Ambiental - CAP INPE"
date: 2025-10-01
author: Pedro Borges
lang: pt-BR
format: 
  html:
    toc: true
    number-sections: true
---

```{python}
#| label: setup
#| include: false
import pandas as pd
import os
import geopandas as gpd
```

## Introdução

## Dados

### Coleta
```{python}
file_list = os.listdir('data/')
path_list = ["data/" + file for file in file_list]
df_list = [pd.read_csv(file, sep=";") for file in path_list]
df_precipitacao = pd.concat(df_list)

df_precipitacao.head()
```

### Tratamento

```{python}
df_precipitacao.nomeEstacao.unique().size
```

```{python}
#| warning: false
#| message: false
df_local_estacoes = df_precipitacao.drop_duplicates(subset="nomeEstacao")
df_local_estacoes.latitude = pd.to_numeric(df_local_estacoes.latitude.str.replace(",", "."))
df_local_estacoes.longitude = pd.to_numeric(df_local_estacoes.longitude.str.replace(",", "."))

estacoes = gpd.GeoDataFrame(
    df_local_estacoes, 
    geometry=gpd.points_from_xy(
        df_local_estacoes.longitude, 
        df_local_estacoes.latitude
    ), 
    crs="EPSG:4326"
)

estacoes[["nomeEstacao", "geometry"]].explore(tiles="CartoDB positron")
```

```{python}
df_precipitacao[["data", "hora"]] = df_precipitacao.datahora.str.split(" ", expand=True)
df_precipitacao.valorMedida = pd.to_numeric(df_precipitacao.valorMedida.str.replace(",", "."))

df_diario = (
    df_precipitacao[df_precipitacao.nomeEstacao == "Centro "]
    .groupby('data')
    .agg(prec_acum=('valorMedida', 'sum'))
    .reset_index()
)

df_diario.head(n=10)
```

## Análise exploratória

### Distribuição

### Série temporal

## Sazonalidade
